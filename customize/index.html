<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Customizing - BracketHighlighter Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_custom.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> BracketHighlighter Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">About BracketHighlighter</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installation/">Installation</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>User Guide</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../usage/">Usage</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Customizing</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#customization">Customization</a></li>
                
            
                <li class="toctree-l3"><a href="#overview">Overview</a></li>
                
            
                <li class="toctree-l3"><a href="#general-settings">General Settings</a></li>
                
            
                <li class="toctree-l3"><a href="#configuring-brackets">Configuring Brackets</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-brackets-rules">Configuring Brackets Rules</a></li>
                
                    <li><a class="toctree-l4" href="#configuring-scope-brackets-rules">Configuring Scope Brackets Rules</a></li>
                
                    <li><a class="toctree-l4" href="#bracket-rule-management">Bracket Rule Management</a></li>
                
            
                <li class="toctree-l3"><a href="#configuring-highlight-style">Configuring Highlight Style</a></li>
                
                    <li><a class="toctree-l4" href="#my-personal-configurations">My personal configurations</a></li>
                
            
                <li class="toctree-l3"><a href="#bracket-plugin-api">Bracket Plugin API</a></li>
                
                    <li><a class="toctree-l4" href="#definition-plugins">'Definition' Plugins</a></li>
                
                    <li><a class="toctree-l4" href="#run-instance-plugins">'Run Instance' Plugins</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../contributing/">Contributing & Support</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../license/">License</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">BracketHighlighter Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>User Guide &raquo;</li>
        
      
    
    <li>Customizing</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/facelessuser/BracketHighlighter" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 class="doctitle" id="customization"><a name="user-content-customization" href="#customization" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Customization</h1>
<p>Tweaking BracketHighlighter.</p>
<hr />
<h1 id="overview"><a name="user-content-overview" href="#overview" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Overview</h1>
<p><abbr title="BracketHighlighter">BH</abbr> is extremely flexible and can be customized and extended to fit a user&rsquo;s needs.  The first step is to create a <code>bh_core.sublime-settings</code> in your <code>User</code> folder.  This is where the bracket and style rules live.  By changing these settings, you can add support for new languages, or change the look of highlighting, and much more.</p>
<h1 id="general-settings"><a name="user-content-general-settings" href="#general-settings" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>General Settings</h1>
<p>Style and color will be discussed in greater depth in the <code>Configuring Highlight Style</code> section.  But there are a number of general setting you can adjust to change how things look or work.  The settings are commented to explain their functionality.</p>
<p>These are the basic settings you can change:<br />
<div class="codehilite"><pre>    <span class="c1">//Debug logging</span>
    <span class="s2">&quot;debug_enable&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// When only either the left or right bracket can be found</span>
    <span class="c1">// this defines if the unmatched bracket should be shown.</span>
    <span class="s2">&quot;show_unmatched&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

    <span class="c1">// Do the opposite of &quot;show_unmatched&quot; for the languages listed below</span>
    <span class="s2">&quot;show_unmatched_exceptions&quot;</span><span class="o">:</span> <span class="p">[],</span>

    <span class="c1">// Enable high visibility by default when sublime starts up</span>
    <span class="c1">// If sublime is already running and this gets changed,</span>
    <span class="c1">// you will not see any changes (restart required to see change)</span>
    <span class="s2">&quot;high_visibility_enabled_by_default&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// Experimental: Creates a visible bar at the beginning of all lines between</span>
    <span class="c1">// multiline bracket spans.</span>
    <span class="s2">&quot;content_highlight_bar&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// Experimental: Align the content highlight bar at the bracket indent level</span>
    <span class="s2">&quot;align_content_highlight_bar&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// High visibility style and color for high visibility mode</span>
    <span class="c1">// (solid|outline|underline)</span>
    <span class="c1">// ST3 has additional options of (thin_underline|squiggly|stippled)</span>
    <span class="s2">&quot;high_visibility_style&quot;</span><span class="o">:</span> <span class="s2">&quot;outline&quot;</span><span class="p">,</span>

    <span class="c1">// (scope|__default__|__bracket__)</span>
    <span class="s2">&quot;high_visibility_color&quot;</span><span class="o">:</span> <span class="s2">&quot;__bracket__&quot;</span><span class="p">,</span>

    <span class="c1">// Match brackets only when the cursor is touching the inside of the bracket</span>
    <span class="s2">&quot;match_only_adjacent&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// Character threshold to search</span>
    <span class="s2">&quot;search_threshold&quot;</span><span class="o">:</span> <span class="mi">5000</span><span class="p">,</span>

    <span class="c1">// Ignore threshold</span>
    <span class="s2">&quot;ignore_threshold&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>

    <span class="c1">// Set mode for string escapes to ignore (regex|string)</span>
    <span class="s2">&quot;bracket_string_escape_mode&quot;</span><span class="o">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>

    <span class="c1">// Set max number of multi-select brackets that will be searched automatically</span>
    <span class="s2">&quot;auto_selection_threshold&quot;</span> <span class="o">:</span> <span class="mi">10</span><span class="p">,</span>

    <span class="c1">// Enable this to completely kill highlighting if &quot;auto_selection_threshold&quot;</span>
    <span class="c1">// is exceeded.  Default is to highlight up to the &quot;auto_selection_threshold&quot;.</span>
    <span class="s2">&quot;kill_highlight_on_threshold&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>

    <span class="c1">// Disable gutter icons when doing multi-select</span>
    <span class="s2">&quot;no_multi_select_icons&quot;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
</pre></div>
</p>
<h1 id="configuring-brackets"><a name="user-content-configuring-brackets" href="#configuring-brackets" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Configuring Brackets</h1>
<p><abbr title="BracketHighlighter">BH</abbr> has been written to allow users to define any brackets they would like to have highlighted.  There are two kinds of brackets you can define: <code>scope_brackets</code> (search file for scope regions and then use regex to test for opening and closing brackets) and <code>brackets</code> (use regex to find opening and closing brackets).  <code>bracket</code> type should usually be the preferred type.  <code>scope_brackets</code> are usually used for brackets whose opening and closing are the same and not distinguishable form one another by regex; scope brackets must be contained in a continuous scope region like string for quotes etc.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Brackets can be modified or even added without copying the entire bracket rule lists to the user settings.  See <a href="#bracket-rule-management">Bracket Rule Management</a> for more info.</p>
</div>
<h2 id="configuring-brackets-rules"><a name="user-content-configuring-brackets-rules" href="#configuring-brackets-rules" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Configuring Brackets Rules</h2>
<p>Brackets are defined under <code>brackets</code> in <code>bh_core.sublime-settings</code>.</p>
<p>Angle and Curly bracket will be used as an example (not all options may be shown in these examples):</p>
<div class="codehilite"><pre>        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;angle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;open&quot;</span><span class="o">:</span> <span class="s2">&quot;(&lt;)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;close&quot;</span><span class="o">:</span> <span class="s2">&quot;(&gt;)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;angle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;scope_exclude&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;comment&quot;</span><span class="p">,</span> <span class="s2">&quot;keyword.operator&quot;</span><span class="p">],</span>
            <span class="s2">&quot;language_filter&quot;</span><span class="o">:</span> <span class="s2">&quot;whitelist&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_list&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;HTML&quot;</span><span class="p">,</span> <span class="s2">&quot;HTML 5&quot;</span><span class="p">,</span> <span class="s2">&quot;XML&quot;</span><span class="p">,</span> <span class="s2">&quot;PHP&quot;</span><span class="p">,</span> <span class="s2">&quot;HTML+CFML&quot;</span><span class="p">,</span> <span class="s2">&quot;ColdFusion&quot;</span><span class="p">,</span> <span class="s2">&quot;ColdFusionCFC&quot;</span><span class="p">],</span>
            <span class="s2">&quot;plugin_library&quot;</span><span class="o">:</span> <span class="s2">&quot;bh_modules.tags&quot;</span><span class="p">,</span>
            <span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;curly&quot;</span><span class="p">,</span>
            <span class="s2">&quot;open&quot;</span><span class="o">:</span> <span class="s2">&quot;(\\{)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;close&quot;</span><span class="o">:</span> <span class="s2">&quot;(\\})&quot;</span><span class="p">,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;curly&quot;</span><span class="p">,</span>
            <span class="s2">&quot;scope_exclude&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;comment&quot;</span><span class="p">],</span>
            <span class="s2">&quot;scope_exclude_exceptions&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;string.other.math.block.environment.latex&quot;</span><span class="p">],</span>
            <span class="s2">&quot;language_filter&quot;</span><span class="o">:</span> <span class="s2">&quot;blacklist&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_list&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;Plain text&quot;</span><span class="p">],</span>
            <span class="s2">&quot;find_in_sub_search&quot;</span><span class="o">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
            <span class="s2">&quot;ignore_string_escape&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
</pre></div>


<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the bracket (should be unique)</td>
</tr>
<tr>
<td>open</td>
<td>Defines the opening bracket (one and only one capturing group must be present)</td>
</tr>
<tr>
<td>close</td>
<td>Defines the closing bracket (one and only one capturing group must be present)</td>
</tr>
<tr>
<td>style</td>
<td>Name of style definition to be used to highlight the brackets.  See <code>Configuring Bracket Styles</code> for more info.</td>
</tr>
<tr>
<td>scope_exclude</td>
<td>Scopes where the opening and closing brackets should be ignored.</td>
</tr>
<tr>
<td>language_filter</td>
<td>This works in conjunction with <code>language_list</code>.  It specifies whether <code>language_list</code> is a <code>blacklist</code> or <code>whitelist</code>.</td>
</tr>
<tr>
<td>language_list</td>
<td>An array of tmLanguage file names that should be avoided or included for highlighting.  Looks to <code>language_filter</code> to determine if avoidance or inclusion is used.</td>
</tr>
<tr>
<td>enabled</td>
<td>Disable or enable rule.</td>
</tr>
<tr>
<td>scope_exclude_exceptions&nbsp;(optional)</td>
<td>Used to ignore excluding of sub scopes such as in the curly example above where <code>string</code> is excluded, but not <code>string.other.math.block.environment.latex</code>.</td>
</tr>
<tr>
<td>plugin_library&nbsp;(optional)</td>
<td>Defines plugin to use for determining matches (see Bracket Plugin API for more info on matching plugins).</td>
</tr>
<tr>
<td>find_in_sub_search&nbsp;(optional)</td>
<td>This rule should be included when doing sub bracket matching in <code>scope_brackets</code> (like finding round brackets between quotes etc.).  The setting must be as string and can be either (true</td>
</tr>
<tr>
<td>ignore_string_escape&nbsp;(optional)</td>
<td>Do not ignore sub brackets found in strings and regex when escaped, but use internal escape logic to determine if the brackets should be ignored based on whether regex or string escape mode is set.</td>
</tr>
</tbody>
</table>
<h2 id="configuring-scope-brackets-rules"><a name="user-content-configuring-scope-brackets-rules" href="#configuring-scope-brackets-rules" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Configuring Scope Brackets Rules</h2>
<p>Scope Brackets are defined under <code>scope_brackets</code> in <code>bh_core.sublime-settings</code>.</p>
<p>Python Single Quote bracket will be used as an example (not all options are shown in this example):</p>
<div class="codehilite"><pre>        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;py_single_quote&quot;</span><span class="p">,</span>
            <span class="s2">&quot;open&quot;</span><span class="o">:</span> <span class="s2">&quot;u?r?((?:&#39;&#39;)?&#39;)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;close&quot;</span><span class="o">:</span> <span class="s2">&quot;((?:&#39;&#39;)?&#39;)&quot;</span><span class="p">,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;single_quote&quot;</span><span class="p">,</span>
            <span class="s2">&quot;scopes&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">],</span>
            <span class="s2">&quot;language_filter&quot;</span><span class="o">:</span> <span class="s2">&quot;whitelist&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_list&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;Python&quot;</span><span class="p">],</span>
            <span class="s2">&quot;sub_bracket_search&quot;</span><span class="o">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
            <span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">},</span>
</pre></div>


<table>
<thead>
<tr>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the bracket (should be unique).</td>
</tr>
<tr>
<td>open</td>
<td>Defines the opening bracket (one and only one capturing group must be present).</td>
</tr>
<tr>
<td>close</td>
<td>Defines the closing bracket (one and only one capturing group must be present).</td>
</tr>
<tr>
<td>style</td>
<td>Name of style definition to be used to highlight the brackets.  See <code>Configuring Bracket Styles</code> for more info.</td>
</tr>
<tr>
<td>scopes</td>
<td>Scope that should be searched to find the opening and closing brackets.</td>
</tr>
<tr>
<td>language_filter</td>
<td>This works in conjunction with <code>language_list</code>.  It specifies whether <code>language_list</code> is a <code>blacklist</code> or <code>whitelist</code>.</td>
</tr>
<tr>
<td>language_list</td>
<td>An array of tmLanguage file names that should be avoided or included for highlighting.  Looks to <code>language_filter</code> to determine if avoidance or inclusion is used.</td>
</tr>
<tr>
<td>sub_bracket_search</td>
<td>Should this scope bracket also search for sub brackets (like curly brackets in strings etc.).</td>
</tr>
<tr>
<td>enabled</td>
<td>Disable or enable rule.</td>
</tr>
<tr>
<td>plugin_library&nbsp;(optional)</td>
<td>Defines plugin to use for determining matches (see Bracket Plugin API for more info on matching plugins).</td>
</tr>
</tbody>
</table>
<h2 id="bracket-rule-management"><a name="user-content-bracket-rule-management" href="#bracket-rule-management" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Bracket Rule Management</h2>
<p>In the past, BracketHighlighter required a user to copy the entire bracket list to the user <code>bh_core.sublime-settings</code> file.  This was a cumbersome requirement that also punished a user because if they did this, they wouldn&rsquo;t automatically get updates to the rules as all the rules were now overridden by the user&rsquo;s settings file.</p>
<p>BracketHighlighter now let&rsquo;s you add or modify existing rules without overriding the entire rule set or even the entire target rule.  Let&rsquo;s say you have a custom language you want to have on your machine. Now, you can simply add it to one of the two settings arrays: &ldquo;user_scope_brackets&rdquo; and &ldquo;user_brackets&rdquo;:</p>
<div class="codehilite"><pre>    <span class="s2">&quot;user_scope_brackets&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;user_brackets&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mylang&quot;</span><span class="p">,</span>
            <span class="s2">&quot;open&quot;</span><span class="o">:</span> <span class="s2">&quot;^\\s*\\b(if|subr|bytemap|enum|command|for|while|macro|do)\\b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;close&quot;</span><span class="o">:</span> <span class="s2">&quot;\\b(e(?:if|subr|bytemap|enum|command|for|while|macro)|until)\\b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="s2">&quot;scope_exclude&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;comment&quot;</span><span class="p">],</span>
            <span class="s2">&quot;plugin_library&quot;</span><span class="o">:</span> <span class="s2">&quot;User.bh_modules.mylangkeywords&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_filter&quot;</span><span class="o">:</span> <span class="s2">&quot;whitelist&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_list&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;mylang&quot;</span><span class="p">],</span>
            <span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">],</span>
</pre></div>


<p>Let&rsquo;s say you want to modify an existing rule, maybe just tweak the language list, all you have to do is use the same name and the item you want to change. Only that attribute will be overridden:</p>
<div class="codehilite"><pre>    <span class="s2">&quot;user_brackets&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="c1">// Angle</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;angle&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_list&quot;</span><span class="o">:</span> <span class="p">[</span>
                <span class="s2">&quot;HTML&quot;</span><span class="p">,</span> <span class="s2">&quot;HTML 5&quot;</span><span class="p">,</span> <span class="s2">&quot;XML&quot;</span><span class="p">,</span> <span class="s2">&quot;PHP&quot;</span><span class="p">,</span> <span class="s2">&quot;HTML (Rails)&quot;</span><span class="p">,</span>
                <span class="s2">&quot;HTML (Jinja Templates)&quot;</span><span class="p">,</span> <span class="s2">&quot;HTML (Twig)&quot;</span><span class="p">,</span> <span class="s2">&quot;HTML+CFML&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ColdFusion&quot;</span><span class="p">,</span> <span class="s2">&quot;ColdFusionCFC&quot;</span><span class="p">,</span> <span class="s2">&quot;laravel-blade&quot;</span><span class="p">,</span>
                <span class="s2">&quot;Handlebars&quot;</span><span class="p">,</span> <span class="s2">&quot;AngularJS&quot;</span><span class="p">,</span>
                <span class="s2">&quot;SomeNewLanguage&quot;</span> <span class="c1">// &lt;--- New language</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">],</span>
</pre></div>


<p>Let&rsquo;s say you want to insert a new rule between two rules. You can turn on debug mode and call the <code>BracketHighlighter: (Debug) Filter Rules by Key</code> then select position to see the current rule order and their position index.  To turn on Debug mode, just add <code>&quot;debug_enable&quot;: true</code> to your user settings file.</p>
<p>Example of <code>BracketHighlighter: (Debug) Filter Rules by Key</code> output:</p>
<div class="codehilite"><pre><span class="p">[</span>
    <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;curly&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;round&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;html&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;cfml&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;php_angle&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;angle&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">6</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;cssedit_groups&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">7</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ruby_embedded_html&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">8</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;ruby&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">9</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;c_compile_switch&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;php_keywords&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">11</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;erlang&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">12</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;bash&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">13</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;fish&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">14</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mylang&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">15</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;py_single_quote&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;py_double_quote&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;single_quote&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;double_quote&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;jsregex&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;perlregex&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;rubyregex&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">6</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mditalic&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">7</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mdbold&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">8</span><span class="p">}</span>
    <span class="p">]</span>
<span class="p">]</span>
</pre></div>


<p>Then you can specify the position you want to insert at using the <code>position</code> key:</p>
<div class="codehilite"><pre>    <span class="s2">&quot;user_scope_brackets&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;user_brackets&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;mylang&quot;</span><span class="p">,</span>
            <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">,</span> <span class="c1">// &lt;-- New position</span>
            <span class="s2">&quot;open&quot;</span><span class="o">:</span> <span class="s2">&quot;^\\s*\\b(if|subr|bytemap|enum|command|for|while|macro|do)\\b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;close&quot;</span><span class="o">:</span> <span class="s2">&quot;\\b(e(?:if|subr|bytemap|enum|command|for|while|macro)|until)\\b&quot;</span><span class="p">,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="s2">&quot;scope_exclude&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;string&quot;</span><span class="p">,</span> <span class="s2">&quot;comment&quot;</span><span class="p">],</span>
            <span class="s2">&quot;plugin_library&quot;</span><span class="o">:</span> <span class="s2">&quot;User.bh_modules.mylangkeywords&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_filter&quot;</span><span class="o">:</span> <span class="s2">&quot;whitelist&quot;</span><span class="p">,</span>
            <span class="s2">&quot;language_list&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;mylang&quot;</span><span class="p">],</span>
            <span class="s2">&quot;enabled&quot;</span><span class="o">:</span> <span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">],</span>
</pre></div>


<p>And if you run the debug command again, you will see that the position has changed:</p>
<div class="codehilite"><pre>        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;curly&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">0</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;round&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">1</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;square&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;html&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">3</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;trex&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">4</span><span class="p">},</span> <span class="c1">// &lt;-- New position</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;cfml&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">5</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;php_angle&quot;</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="o">:</span> <span class="mi">6</span><span class="p">},</span>
</pre></div>


<p>This can be used to adjust the position of default rules from your user settings as well as shown by overrides above.</p>
<p>So, unless you are forking <abbr title="BracketHighlighter">BH</abbr> to pull request a change to the default rules, you can now modify the rules all in these two settings without copying or touching the default rules:</p>
<div class="codehilite"><pre>    <span class="s2">&quot;user_scope_brackets&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;user_brackets&quot;</span><span class="o">:</span> <span class="p">[],</span>
</pre></div>


<p>This will allow you to make changes, but still receive new updated rules.</p>
<h1 id="configuring-highlight-style"><a name="user-content-configuring-highlight-style" href="#configuring-highlight-style" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Configuring Highlight Style</h1>
<p>Each bracket definition (described in <code>Configuring Scope Brackets</code> and <code>Configuring Brackets</code>) has a <code>style</code> setting that you give a style definition to.  Style definitions are defined under <code>bracket_styles</code> in <code>bh_core.sublime-settings</code>.</p>
<p>There are two special style definitions whose names are reserved: <code>default</code> and <code>unmatched</code>, but you can configure them.  All other custom style definitions follow the same pattern (see <code>curly</code> below and compare to the special style definitions; format is the same)  All custom styles follow this pattern.  See description below:</p>
<div class="codehilite"><pre>        <span class="c1">// &quot;default&quot; style defines attributes that</span>
        <span class="c1">// will be used for any style that does not</span>
        <span class="c1">// explicitly define that attribute.  So if</span>
        <span class="c1">// a style does not define a color, it will</span>
        <span class="c1">// use the color from the &quot;default&quot; style.</span>
        <span class="s2">&quot;default&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;dot&quot;</span><span class="p">,</span>
            <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.default&quot;</span><span class="p">,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;underline&quot;</span>
        <span class="p">},</span>

        <span class="c1">// This particular style is used to highlight</span>
        <span class="c1">// unmatched bracket pairs.  It is a special</span>
        <span class="c1">// style.</span>
        <span class="s2">&quot;unmatched&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;question&quot;</span><span class="p">,</span>
            <span class="c1">// &quot;color&quot;: &quot;brackethighlighter.unmatched&quot;,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;outline&quot;</span>
        <span class="p">},</span>
        <span class="c1">// User defined region styles</span>
        <span class="s2">&quot;curly&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;curly_bracket&quot;</span>
            <span class="c1">// &quot;color&quot;: &quot;brackethighlighter.curly&quot;,</span>
            <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;tag&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span>
            <span class="c1">// &quot;endpoints&quot;: true,</span>
            <span class="c1">// &quot;color&quot;: &quot;brackethighlighter.tag&quot;,</span>
            <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;outline&quot;</span>
        <span class="p">},</span>
</pre></div>


<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>icon</td>
<td>Icon to show in gutter. Available options are: <code>angle</code>, <code>round</code>, <code>curly</code>, <code>square</code>, <code>tag</code>, <code>star</code>, <code>dot</code>, <code>bookmark</code>, <code>question</code>, <code>quote</code>, <code>double_quote</code>, <code>single_quote</code>, <code>single_quote_offset</code>, <code>double_quote_offset</code>, <code>none</code>.</td>
</tr>
<tr>
<td>color</td>
<td>Scope to define color.</td>
</tr>
<tr>
<td>style</td>
<td>Highlight style.  Available options are: <code>solid</code>, <code>outline</code>, <code>underline</code>, <code>none</code>.  <abbr title="Sublime Text 3">ST3</abbr> has additional styles: <code>thin_underline</code>, <code>squiggly</code>, <code>stippled</code>.</td>
</tr>
<tr>
<td>endpoint</td>
<td>Boolean to highlight just the beginning and end of bracket. This is useful for things like tags where it may be distracting highlighting the entire tag.</td>
</tr>
</tbody>
</table>
<p>As shown in the example above, if an option is omitted, it will use the setting in <code>default</code>.  So <code>curly</code>, in this example, defines <code>icon</code>, but will use <code>default</code> for the <code>color</code> and <code>style</code>.</p>
<p>To customize the color for <code>curly</code> you can create your own custom scope.</p>
<p>Add this to your color scheme:<br />
<div class="codehilite"><pre>        <span class="nt">&lt;dict&gt;</span>
            <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
            <span class="nt">&lt;string&gt;</span>Bracket Curly<span class="nt">&lt;/string&gt;</span>
            <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
            <span class="nt">&lt;string&gt;</span>brackethighlighter.curly<span class="nt">&lt;/string&gt;</span>
            <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
            <span class="nt">&lt;dict&gt;</span>
                <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
                <span class="nt">&lt;string&gt;</span>#CC99CC<span class="nt">&lt;/string&gt;</span>
            <span class="nt">&lt;/dict&gt;</span>
        <span class="nt">&lt;/dict&gt;</span>
</pre></div>
</p>
<p>And then use the scope:<br />
<div class="codehilite"><pre>        <span class="s2">&quot;curly&quot;</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;curly_bracket&quot;</span>
            <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.curly&quot;</span><span class="p">,</span>
            <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
        <span class="p">},</span>
</pre></div>
</p>
<h2 id="my-personal-configurations"><a name="user-content-my-personal-configurations" href="#my-personal-configurations" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>My personal configurations</h2>
<p>If you are curious about my personal configuration, here it is. The color scheme I use is from my <a href="https://github.com/facelessuser/Aprosopo">Aprosopo theme</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a scope is not defined, it won&rsquo;t change the color. For instance, below I assign the hash rule for C/C++ preprocessors conditionals to <code>brackethighlighter.c_define</code>, but I don&rsquo;t have <code>brackethighlighter.c_define</code> in my theme <code>&lt;dict&gt;</code>. So it will look like the default color, white.</p>
</div>
<p><strong>My personal conf: bh_core.sublime-settings</strong></p>
<div class="codehilite"><pre><span class="c1">// Define region highlight styles</span>
<span class="s2">&quot;bracket_styles&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="c1">// &quot;default&quot; and &quot;unmatched&quot; styles are special</span>
    <span class="c1">// styles. If they are not defined here,</span>
    <span class="c1">// they will be generated internally with</span>
    <span class="c1">// internal defaults.</span>

    <span class="c1">// &quot;default&quot; style defines attributes that</span>
    <span class="c1">// will be used for any style that does not</span>
    <span class="c1">// explicitly define that attribute.  So if</span>
    <span class="c1">// a style does not define a color, it will</span>
    <span class="c1">// use the color from the &quot;default&quot; style.</span>
    <span class="s2">&quot;default&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;dot&quot;</span><span class="p">,</span>
        <span class="c1">// BH1&#39;s original default color for reference</span>
        <span class="c1">// &quot;color&quot;: &quot;entity.name.class&quot;,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.default&quot;</span><span class="p">,</span>
        <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;underline&quot;</span>
    <span class="p">},</span>

    <span class="c1">// This particular style is used to highlight</span>
    <span class="c1">// unmatched bracket pairs.  It is a special</span>
    <span class="c1">// style.</span>
    <span class="s2">&quot;unmatched&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;question&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.unmatched&quot;</span><span class="p">,</span>
        <span class="s2">&quot;style&quot;</span><span class="o">:</span> <span class="s2">&quot;outline&quot;</span>
    <span class="p">},</span>
    <span class="c1">// User defined region styles</span>
    <span class="s2">&quot;curly&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;curly_bracket&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.curly&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;round&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;round_bracket&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.round&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;square&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;square_bracket&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.square&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;angle&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;angle_bracket&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.angle&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;tag&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;tag&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.tag&quot;</span><span class="p">,</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;c_define&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;hash&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.c_define&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;single_quote&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;single_quote&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.quote&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;double_quote&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;double_quote&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.quote&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;regex&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;icon&quot;</span><span class="o">:</span> <span class="s2">&quot;star&quot;</span><span class="p">,</span>
        <span class="s2">&quot;color&quot;</span><span class="o">:</span> <span class="s2">&quot;brackethighlighter.quote&quot;</span>
        <span class="c1">// &quot;style&quot;: &quot;underline&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><strong>My personal conf: [Default Theme].tmTheme</strong></p>
<div class="codehilite"><pre><span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Tag<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.tag<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#66CCCC<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Curly<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.curly<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#CC99CC<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Round<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.round<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#FFCC66<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Square<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.square<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#6699CC<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Angle<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.angle<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#F99157<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Quote<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.quote<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#99CC99<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;dict&gt;</span>
    <span class="nt">&lt;key&gt;</span>name<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>Bracket Unmatched<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>scope<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;string&gt;</span>brackethighlighter.unmatched<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;key&gt;</span>settings<span class="nt">&lt;/key&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>foreground<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>#F2777A<span class="nt">&lt;/string&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
</pre></div>


<h1 id="bracket-plugin-api"><a name="user-content-bracket-plugin-api" href="#bracket-plugin-api" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Bracket Plugin API</h1>
<p>There are two kinds of plugins that can be written <code>definition</code> plugins (plugins attached to bracket definitions via the <code>plugin_library</code> option) or <code>run instance</code> plugins (plugins that are that are fed in the BracketHighligher via the command parameter <code>plugin</code>).</p>
<p>Bracket plugins use <code>BracketRegions</code>.</p>
<dl>
<dt>class BracketRegion(begin_pt, end_pt)</dt>
<dd>
<p><code>BracketRegions</code> are simple objects containing a begin pt and end pt of a bracket.</p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_pt</td>
<td>Starting point.</td>
</tr>
<tr>
<td>end_pt</td>
<td>Ending point.</td>
</tr>
</tbody>
</table>
<p><strong>Attributes</strong>:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin</td>
<td>The start pt of the BracketRegion.</td>
</tr>
<tr>
<td>end</td>
<td>The end pt of the BracketRegion.</td>
</tr>
</tbody>
</table>
<p><strong>Methods</strong>:</p>
<dl>
<dt>def size(self)</dt>
<dd>Returns size of region</dd>
<dt>def move(self, begin_pt, end_pt)</dt>
<dd>
<p>Returns a new BracketRegion object with the points moved to the specified position.</p>
<p><strong>Parmenters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>begin_pt</td>
<td>Starting point.</td>
</tr>
<tr>
<td>end_pt</td>
<td>End Point.</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong>:</p>
<table>
<thead>
<tr>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BracketRegion</td>
<td>BracketRegion with new starting and ending points</td>
</tr>
</tbody>
</table>
</dd>
<dt>def to_region(self)</dt>
<dd>
<p>Converts BracketRegion to a SublimeRegion</p>
<p><strong>Returns</strong>:</p>
<table>
<thead>
<tr>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SublimeRegion</td>
<td>A Sublime Region.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<h2 id="definition-plugins"><a name="user-content-definition-plugins" href="#definition-plugins" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>&lsquo;Definition&rsquo; Plugins</h2>
<p>These are plugins that are attached to the bracket definition and aid in processing the brackets.  These kinds of plugins have three methods you can provide: <code>post_match</code>, <code>compare</code>, and/or <code>validate</code>.</p>
<h3 id="validate"><a name="user-content-validate" href="#validate" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>validate</h3>
<dl>
<dt>def validate(name, bracket, bracket_size, bfr)</dt>
<dd>
<p><code>validate</code> before comparing it to its corresponding opening or closing side.  This is used to determine perform additional validation on a found bracket.  For example, lets say you have a bracket that is case sensitive.  <abbr title="BracketHighlighter">BH</abbr> uses a case insensitive search.  With validate, you can ensure the originally found bracket matches the desired case.</p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the bracket definition being evaluated.</td>
</tr>
<tr>
<td>bracket</td>
<td>The bracket region being validated.</td>
</tr>
<tr>
<td>bracket_side</td>
<td>Opening (0) or closing (1) bracket.</td>
</tr>
<tr>
<td>bfr</td>
<td>The file buffer.</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong>:</p>
<table>
<thead>
<tr>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>indicates whether the validation succeeded (True) or failed (False).</td>
</tr>
</tbody>
</table>
<p>Example: Should match closing tag <code>end</code> but not match <code>End</code></p>
<div class="codehilite"><pre><span class="k">case</span> <span class="nv">Foo</span> <span class="k">of</span>
    <span class="nv">Guard1</span> <span class="o">-&gt;</span> <span class="n">ok</span><span class="p">;</span>
    <span class="nv">Guard2</span> <span class="o">-&gt;</span> <span class="nv">End</span>
<span class="k">end</span>
</pre></div>


<p>Example (from erlangcase.py):</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">bracket</span><span class="p">,</span> <span class="n">bracket_side</span><span class="p">,</span> <span class="n">bfr</span><span class="p">):</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">bfr</span><span class="p">[</span><span class="n">bracket</span><span class="o">.</span><span class="n">begin</span><span class="p">:</span><span class="n">bracket</span><span class="o">.</span><span class="n">end</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">text</span>
</pre></div>


</dd>
</dl>
<h3 id="compare"><a name="user-content-compare" href="#compare" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>compare</h3>
<dl>
<dt>def compare(name, first, second, bfr)</dt>
<dd>
<p><code>compare</code> is run when comparing the opening bracket with closing brackets.  This allows you to provide logic to accept or reject the pairing of an opening bracket with a closing bracket.  You should not change the text in the view during this operation.</p>
<p><strong>Paramters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the bracket definition being evaluated.</td>
</tr>
<tr>
<td>first</td>
<td>A bracket region for the opening bracket.</td>
</tr>
<tr>
<td>second</td>
<td>A bracket region for the closing bracket.</td>
</tr>
<tr>
<td>bfr</td>
<td>The file buffer.</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong>:</p>
<table>
<thead>
<tr>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Boolean</td>
<td>Indicating whether the the comparison yields a suitable match.</td>
</tr>
</tbody>
</table>
<p>Example (from phphekywords.py):<br />
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">compare</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">bfr</span><span class="p">):</span>
    <span class="k">return</span> <span class="s">&quot;end&quot;</span> <span class="o">+</span> <span class="n">bfr</span><span class="p">[</span><span class="n">first</span><span class="o">.</span><span class="n">begin</span><span class="p">:</span><span class="n">first</span><span class="o">.</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="n">bfr</span><span class="p">[</span><span class="n">second</span><span class="o">.</span><span class="n">begin</span><span class="p">:</span><span class="n">second</span><span class="o">.</span><span class="n">end</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</pre></div>
</p>
</dd>
</dl>
<h3 id="post_match"><a name="user-content-post_match" href="#post_match" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>post_match</h3>
<dl>
<dt>def post_match(name, style, first, second, center, bfr, threshold)</dt>
<dd>
<p><code>post_match</code> is run after the brackets have been matched.  You can do things like alter the highlighting region and change the bracket_style if needed. You should not change the text in the view during this operation.</p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>The name of the bracket definition being evaluated.</td>
</tr>
<tr>
<td>style</td>
<td>The style definition name that is to be used to highlight the region.</td>
</tr>
<tr>
<td>first</td>
<td>A bracket region for the opening bracket.</td>
</tr>
<tr>
<td>second</td>
<td>A bracket region for the closing bracket.</td>
</tr>
<tr>
<td>center</td>
<td>Position (pt) of cursor (in retrospect, probably not the most intuitive name; not sure why I named it this).</td>
</tr>
<tr>
<td>bfr</td>
<td>The file buffer.</td>
</tr>
<tr>
<td>threshold</td>
<td>The calculated search window of the buffer that is being searched.</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong>:</p>
<table>
<thead>
<tr>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BracketRegion</td>
<td>Opening bracket region.</td>
</tr>
<tr>
<td>BracketRegion</td>
<td>Closing bracket region.</td>
</tr>
<tr>
<td>style</td>
<td>The name of the style definition to use.</td>
</tr>
</tbody>
</table>
<p>Example (from rubykeywords.py):<br />
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">re</span>


<span class="k">def</span> <span class="nf">post_match</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">bfr</span><span class="p">,</span> <span class="n">threshold</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">first</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c"># Strip whitespace from the beginning of first bracket</span>
        <span class="n">open_bracket</span> <span class="o">=</span> <span class="n">bfr</span><span class="p">[</span><span class="n">first</span><span class="o">.</span><span class="n">begin</span><span class="p">:</span><span class="n">first</span><span class="o">.</span><span class="n">end</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">open_bracket</span> <span class="o">!=</span> <span class="s">&quot;do&quot;</span><span class="p">:</span>
            <span class="n">m</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="s">r&quot;^(\s*\b)[\w\W]*&quot;</span><span class="p">,</span> <span class="n">open_bracket</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">m</span><span class="p">:</span>
                <span class="n">first</span> <span class="o">=</span> <span class="n">first</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">first</span><span class="o">.</span><span class="n">begin</span> <span class="o">+</span> <span class="n">m</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">first</span><span class="o">.</span><span class="n">end</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">style</span>
</pre></div>
</p>
<p>Example (snippet from tags.py)<br />
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">post_match</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">bfr</span><span class="p">,</span> <span class="n">threshold</span><span class="p">):</span>
    <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span>
    <span class="n">threshold</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">bfr</span><span class="p">)]</span> <span class="k">if</span> <span class="n">threshold</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">threshold</span>
    <span class="n">tag_settings</span> <span class="o">=</span> <span class="n">sublime</span><span class="o">.</span><span class="n">load_settings</span><span class="p">(</span><span class="s">&quot;bh_core.sublime-settings&quot;</span><span class="p">)</span>
    <span class="n">tag_mode</span> <span class="o">=</span> <span class="n">get_tag_mode</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">tag_settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;tag_mode&quot;</span><span class="p">,</span> <span class="p">{}))</span>
    <span class="n">tag_style</span> <span class="o">=</span> <span class="n">tag_settings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;tag_style&quot;</span><span class="p">,</span> <span class="s">&quot;angle&quot;</span><span class="p">)</span>
    <span class="n">bracket_style</span> <span class="o">=</span> <span class="n">style</span>

    <span class="k">if</span> <span class="n">first</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span> <span class="ow">and</span> <span class="n">tag_mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">matcher</span> <span class="o">=</span> <span class="n">TagMatch</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">bfr</span><span class="p">,</span> <span class="n">threshold</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">center</span><span class="p">,</span> <span class="n">tag_mode</span><span class="p">)</span>
        <span class="n">left</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">matcher</span><span class="o">.</span><span class="n">match</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">matcher</span><span class="o">.</span><span class="n">no_tag</span><span class="p">:</span>
            <span class="n">bracket_style</span> <span class="o">=</span> <span class="n">tag_style</span>

    <span class="k">return</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bracket_style</span>
</pre></div>
</p>
</dd>
</dl>
<h3 id="highlighting"><a name="user-content-highlighting" href="#highlighting" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>highlighting</h3>
<dl>
<dt>def highlighting(view, name, style, right)</dt>
<dd>
<p><code>highlighting</code> is the last hook that gets run.  This is at a point when <abbr title="BracketHighlighter">BH</abbr> no longer cares about what the <em>actual</em> bracket region is, so it is safe to modify it for highlighting purposes.  The view really shouldn&rsquo;t be modified here.</p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>view</td>
<td>The current view containing brackets.</td>
</tr>
<tr>
<td>name</td>
<td>The name of the bracket definition being evaluated.</td>
</tr>
<tr>
<td>style</td>
<td>The style definition name that is to be used to highlight the region.</td>
</tr>
<tr>
<td>left</td>
<td>A bracket region for the opening bracket (could be <code>None</code>).</td>
</tr>
<tr>
<td>right</td>
<td>A bracket region for the closing bracket (could be <code>None</code>).</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong>:</p>
<table>
<thead>
<tr>
<th>Return</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BracketRegion</td>
<td>Opening bracket region.</td>
</tr>
<tr>
<td>BracketRegion</td>
<td>Closing bracket region.</td>
</tr>
</tbody>
</table>
<p>Example (snippet from tags.py)</p>
<div class="codehilite"><pre><span class="k">def</span> <span class="nf">highlighting</span><span class="p">(</span><span class="n">view</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">style</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Highlight only the tag name.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">style</span> <span class="o">==</span> <span class="s">&quot;tag&quot;</span><span class="p">:</span>
        <span class="n">tag_name</span> <span class="o">=</span> <span class="s">&#39;[\w\:\.\-]+&#39;</span>
        <span class="k">if</span> <span class="n">left</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">region</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">left</span><span class="o">.</span><span class="n">begin</span><span class="p">)</span>
            <span class="n">left</span> <span class="o">=</span> <span class="n">left</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">region</span><span class="o">.</span><span class="n">end</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">right</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">region</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">tag_name</span><span class="p">,</span> <span class="n">right</span><span class="o">.</span><span class="n">begin</span><span class="p">)</span>
            <span class="n">right</span> <span class="o">=</span> <span class="n">right</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">region</span><span class="o">.</span><span class="n">begin</span><span class="p">(),</span> <span class="n">region</span><span class="o">.</span><span class="n">end</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span>
</pre></div>


</dd>
</dl>
<h2 id="run-instance-plugins"><a name="user-content-run-instance-plugins" href="#run-instance-plugins" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>&lsquo;Run Instance&rsquo; Plugins</h2>
<p><code>Run instance</code> plugins are fed into the command executing a BracketHighlighter match via the <code>plugin</code> parameter.</p>
<p>Example of run instance plugin getting called:<br />
<div class="codehilite"><pre><span class="c1">// Go to left bracket</span>
    <span class="p">{</span>
        <span class="s2">&quot;caption&quot;</span><span class="o">:</span> <span class="s2">&quot;BracketHighlighter: Jump to Left Bracket&quot;</span><span class="p">,</span>
        <span class="s2">&quot;command&quot;</span><span class="o">:</span> <span class="s2">&quot;bh_key&quot;</span><span class="p">,</span>
        <span class="s2">&quot;args&quot;</span><span class="o">:</span>
        <span class="p">{</span>
            <span class="s2">&quot;lines&quot;</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="s2">&quot;plugin&quot;</span><span class="o">:</span>
            <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;__all__&quot;</span><span class="p">],</span>
                <span class="s2">&quot;command&quot;</span><span class="o">:</span> <span class="s2">&quot;bh_modules.bracketselect&quot;</span><span class="p">,</span>
                <span class="s2">&quot;args&quot;</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;select&quot;</span><span class="o">:</span> <span class="s2">&quot;left&quot;</span><span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
</pre></div>
</p>
<p>The <code>plugin</code> paramter is a dictionary that contains 3 parameters to define what plugin should get run, with what arguments, and on what bracket definition.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>An array containing the bracket definition names that the plugin should be run on.  Use <code>__all__</code> for all bracket definitions.</td>
</tr>
<tr>
<td>command</td>
<td>The plugin to run.  For internal plugins, they are referenced by <code>bh_modules.&lt;plugin name&gt;</code>.  For custom plugins, you should use the folder path relative to <code>Packages</code>.  So if I had a plugin called <code>myplugin.py</code> in my <code>User</code> folder, I would use <code>User.myplugin</code>.</td>
</tr>
<tr>
<td>args</td>
<td>A dictionary containing the arguments to feed into the plugin.</td>
</tr>
</tbody>
</table>
<p>You create <code>run instance</code> plugins by deriving a class from the <code>BracketPluginCommand</code> class.  Then you provide a method called <code>plugin</code> that returns the class.</p>
<dl>
<dt>class BracketPluginCommand()</dt>
<dd>
<p><strong>Attributes</strong>:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>view</td>
<td>The sublime view containing the bracket (don&rsquo;t change this).</td>
</tr>
<tr>
<td>left</td>
<td>A bracket region for the opening bracket (can be changed).</td>
</tr>
<tr>
<td>right</td>
<td>A bracket region for the closing bracket (can be changed).</td>
</tr>
<tr>
<td>selection</td>
<td>An array containing the selection that triggered the match (can be changed).</td>
</tr>
</tbody>
</table>
<p><strong>Methods</strong>:</p>
<dl>
<dt>def run(edit, name, &lt;args&gt;)</dt>
<dd>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>edit</td>
<td>The sublime edit object.</td>
</tr>
<tr>
<td>name</td>
<td>The bracket definition being evaluated.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p>Example (from foldbracket.py):<br />
<div class="codehilite"><pre><span class="kn">import</span> <span class="nn">BracketHighlighter.bh_plugin</span> <span class="kn">as</span> <span class="nn">bh_plugin</span>
<span class="kn">import</span> <span class="nn">sublime</span>


<span class="k">class</span> <span class="nc">FoldBrackets</span><span class="p">(</span><span class="n">bh_plugin</span><span class="o">.</span><span class="n">BracketPluginCommand</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">edit</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">sublime</span><span class="o">.</span><span class="n">Region</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">end</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">begin</span><span class="p">)</span>
        <span class="n">new_content</span> <span class="o">=</span> <span class="p">[</span><span class="n">content</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">content</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">fold</span><span class="p">(</span><span class="n">content</span><span class="p">)</span> <span class="o">==</span> <span class="bp">False</span><span class="p">:</span>
                <span class="n">new_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">unfold</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">selection</span> <span class="o">=</span> <span class="n">new_content</span>


<span class="k">def</span> <span class="nf">plugin</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">FoldBrackets</span>
</pre></div>
</p>
</dd>
</dl>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../contributing/" class="btn btn-neutral float-right" title="Contributing & Support"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../usage/" class="btn btn-neutral" title="Usage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    
    </p>
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../usage/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../contributing/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
